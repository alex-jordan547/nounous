<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/page-standard.xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

	<ui:define name="titre">Liste des contrats</ui:define>

	<ui:define name="contenu">
		<h:form>

			<h:dataTable class="table table-hover align-middle mb-0 bg-white"  value="#{modelContrat.liste}"
				var="item" 
				>
				<h:column>
					<f:facet name="header" >
						<h:outputText value="id" />
					</f:facet>
				#{item.id}
			  </h:column>

				<h:column>
					<f:facet name="header">
						<h:outputText value="Debut" />
					</f:facet>
					<h:outputText  a:type="date"  value="#{item.dateDebut}">
						<f:convertDateTime pattern="yyyy-MM-dd" />
				</h:outputText>
				
			</h:column>

				<h:column>
					<f:facet name="header">
						<h:outputText value="fin" />
					</f:facet>
					<h:outputText  a:type="date"  value="#{item.dateFin}">
						<f:convertDateTime pattern="yyyy-MM-dd" />
				</h:outputText>
				
			</h:column>
			<h:column>
					<f:facet name="header">
						<h:outputText value="tarif Horaire" />
					</f:facet>
				#{item.tarifHoraire} €/h
			</h:column>
			
			<h:column>
					<f:facet name="header">
						<h:outputText value="tarif Horaire" />
					</f:facet>
				#{item.indemRepas} €
			</h:column>
			
			<h:column>
					<f:facet name="header">
						<h:outputText value="Enfant" />
					</f:facet>
					<h:outputText class="text-success" value="#{item.enfant.firstname}" /> <h:outputText class="text-success" value="#{item.enfant.lastname}" />  
			</h:column>
			
				<h:column>
					<f:facet name="header">
						<h:outputText value="Birth enfant" />
					</f:facet>
					<h:outputText  a:type="date"  value="#{item.enfant.dateNaissance}">
						<f:convertDateTime pattern="yyyy-MM-dd" />
				</h:outputText>
				
			</h:column>
			
				<h:column>
					<f:facet name="header">
						<h:outputText value="Parent" />
					</f:facet>
				<h:outputText class="text-success" value="#{item.enfant.parent.firstname}" /> <h:outputText class="text-success" value="#{item.enfant.parent.lastname}" />  
			</h:column>
			<h:column>
					<f:facet name="header">
						<h:outputText value="Telephone" />
					</f:facet>
				#{item.enfant.parent.phone} 
			</h:column>


			</h:dataTable>

			<br />
			<h:button class="btn btn-dark text-center mb-3" value="Ajouter un contrat" outcome="formulaireParent" />

		</h:form>

	</ui:define>

</ui:composition>